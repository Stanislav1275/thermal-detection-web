# Thermal Detection Web

Веб-приложение для детекции людей на тепловизионных изображениях.

## Технологический стек

- **Vite** - сборщик и dev-сервер
- **React 18+** - UI библиотека
- **TypeScript** - типизация
- **Tailwind CSS v4** - стилизация
- **shadcn/ui** - компоненты UI
- **TanStack Query (React Query)** - управление состоянием сервера
- **Zustand** - управление клиентским состоянием
- **Axios** - HTTP клиент

## Установка

1. Установите зависимости:
```bash
npm install
```

2. Создайте файл `.env` в корне проекта:
```env
VITE_API_URL=http://localhost:8000
```

3. Запустите dev-сервер:
```bash
npm run dev
```

4. Откройте браузер по адресу `http://localhost:5173`

## Сборка для продакшена

```bash
npm run build
```

Собранные файлы будут в папке `dist/`.

## Предпросмотр продакшен сборки

```bash
npm run preview
```

## Структура проекта

```
src/
├── components/
│   ├── ui/              # shadcn компоненты
│   ├── upload/          # Компоненты загрузки
│   ├── job-list/        # Список задач
│   ├── job-detail/      # Детали задачи
│   ├── image-gallery/   # Галерея изображений
│   └── header/          # Шапка приложения
├── lib/
│   ├── api.ts           # API клиент
│   ├── utils.ts         # Утилиты
│   └── constants.ts     # Константы
├── hooks/
│   ├── useJobs.ts       # Хуки для работы с задачами
│   └── useUpload.ts     # Хуки для загрузки
├── store/
│   ├── jobStore.ts      # Zustand store для задач
│   └── uiStore.ts       # UI состояние
├── types/
│   └── api.ts           # TypeScript типы API
├── App.tsx
└── main.tsx
```

## Функциональность

- ✅ Загрузка изображений (drag & drop или выбор файлов)
- ✅ Настройка порога уверенности детекции
- ✅ Отслеживание статуса обработки задач (polling)
- ✅ Просмотр истории задач
- ✅ Галерея результатов с визуализацией детекций
- ✅ Модальное окно для детального просмотра изображений
- ✅ Отображение статистики по задачам
- ✅ Обработка ошибок с уведомлениями

## API интеграция

Приложение работает с следующими endpoints:

- `POST /api/upload` - загрузка изображений
- `GET /api/jobs/{job_id}` - статус задачи (polling каждые 2 сек)
- `GET /api/jobs/{job_id}/results` - результаты обработки
- `GET /api/jobs/{job_id}/output/{filename}` - получение изображения
- `GET /health` - проверка доступности API

## Разработка

### Добавление новых компонентов UI

Компоненты shadcn/ui можно добавлять через CLI (если установлен):
```bash
npx shadcn@latest add [component-name]
```

Или создавать вручную в `src/components/ui/`.

### Стилизация

Проект использует Tailwind CSS v4 с кастомной темой. Цвета и переменные определены в `src/index.css`.

Основной цвет для детекций: `#FF8C00` (оранжевый).

## Лицензия

MIT
